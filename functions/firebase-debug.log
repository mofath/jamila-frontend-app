[debug] [2025-07-14T21:05:58.877Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:05:58.878Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:05:58.878Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:05:58.878Z] Platform:      linux
[debug] [2025-07-14T21:05:58.878Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:05:58.878Z] Time:          Tue Jul 15 2025 00:05:58 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:05:58.878Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:05:59.002Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:05:59.002Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:05:59.005Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:05:59.005Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:05:59.007Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:05:59.014Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:05:59.014Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:05:59.014Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:05:59.014Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:05:59.156Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:05:59.159Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:05:59.160Z] Checked if tokens are valid: true, expires at: 1752529236165
[debug] [2025-07-14T21:05:59.160Z] Checked if tokens are valid: true, expires at: 1752529236165
[debug] [2025-07-14T21:05:59.161Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:05:59.943Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:05:59.943Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:05:59.962Z] Validating nodejs source
[debug] [2025-07-14T21:06:00.562Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:06:00.562Z] Building nodejs source
[debug] [2025-07-14T21:06:00.562Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:06:00.564Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:06:00.567Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8677

[debug] [2025-07-14T21:06:00.767Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:06:05.789Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:06:10.874Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:06:10.874Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:06:10.875Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:06:10.874Z"],"workRunningCount":1}
[debug] [2025-07-14T21:06:10.875Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:06:10.876Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:06:10.876Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:06:10.880Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:06:10.880Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:596545) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:596545) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:596545) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:06:11.208Z] [runtime-status] [596545] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:06:11.208Z] [runtime-status] [596545] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:06:11.208Z] [runtime-status] [596545] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:06:11.208Z] [runtime-status] [596545] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:06:11.291Z] [runtime-status] [596545] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:06:11.292Z] [runtime-status] [596545] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:06:11.292Z] [runtime-status] [596545] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:06:11.293Z] [runtime-status] [596545] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:06:11.294Z] [runtime-status] [596545] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:06:11.295Z] [runtime-status] [596545] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:06:11.332Z] [runtime-status] [596545] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:06:11.332Z] [runtime-status] [596545] Listening to port: /tmp/fire_emu_cd1e690391337566.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [596545] Listening to port: /tmp/fire_emu_cd1e690391337566.sock"}}
[debug] [2025-07-14T21:06:11.391Z] [worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: IDLE"}}
[debug] [2025-07-14T21:06:11.392Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:06:11.392Z] [worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: BUSY"}}
[error] i  Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2025-07-14T21:07:11.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:07:11.410Z] [worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: exited"}}
[debug] [2025-07-14T21:07:11.410Z] [worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45c4cb6-a467-4946-8a14-aacdad34aa37]: FINISHED"}}
[debug] [2025-07-14T21:08:14.829Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-14T21:08:14.837Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:08:15.003Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:08:15.003Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:08:18.231Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:08:18.232Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:08:18.232Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:08:18.232Z] Platform:      linux
[debug] [2025-07-14T21:08:18.232Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:08:18.233Z] Time:          Tue Jul 15 2025 00:08:18 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:08:18.233Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:08:18.361Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:08:18.361Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:08:18.363Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:08:18.364Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:08:18.366Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:08:18.374Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:08:18.375Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:08:18.375Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:08:18.375Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:08:18.467Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:08:18.470Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:08:18.471Z] Checked if tokens are valid: true, expires at: 1752529236165
[debug] [2025-07-14T21:08:18.471Z] Checked if tokens are valid: true, expires at: 1752529236165
[debug] [2025-07-14T21:08:18.472Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:08:19.061Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:08:19.061Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:08:19.078Z] Validating nodejs source
[debug] [2025-07-14T21:08:19.736Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:08:19.737Z] Building nodejs source
[debug] [2025-07-14T21:08:19.737Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:08:19.740Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:08:19.742Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8592

[debug] [2025-07-14T21:08:19.943Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:08:24.969Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:08:28.196Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:08:28.196Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:08:28.197Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:08:28.196Z"],"workRunningCount":1}
[debug] [2025-07-14T21:08:28.197Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:08:28.198Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:08:28.198Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:08:28.203Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:08:28.204Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:597551) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:597551) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:597551) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:08:28.549Z] [runtime-status] [597551] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:08:28.549Z] [runtime-status] [597551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:08:28.550Z] [runtime-status] [597551] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:08:28.550Z] [runtime-status] [597551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:08:28.633Z] [runtime-status] [597551] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:08:28.633Z] [runtime-status] [597551] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:08:28.634Z] [runtime-status] [597551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:08:28.635Z] [runtime-status] [597551] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:08:28.635Z] [runtime-status] [597551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:08:28.636Z] [runtime-status] [597551] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:08:28.674Z] [runtime-status] [597551] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:08:28.674Z] [runtime-status] [597551] Listening to port: /tmp/fire_emu_9ec84527766460b3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [597551] Listening to port: /tmp/fire_emu_9ec84527766460b3.sock"}}
[debug] [2025-07-14T21:08:28.712Z] [worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: IDLE"}}
[debug] [2025-07-14T21:08:28.712Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:08:28.713Z] [worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: BUSY"}}
[debug] [2025-07-14T21:08:30.672Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1959.893022ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1959.893022ms"}}
[debug] [2025-07-14T21:08:30.673Z] [worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: IDLE"}}
[debug] [2025-07-14T21:08:30.673Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:08:30.674Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:08:30.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:21:59.748Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:22:00.749Z] Validating nodejs source
[debug] [2025-07-14T21:22:01.386Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:22:01.386Z] Building nodejs source
[debug] [2025-07-14T21:22:01.386Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:22:01.388Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:22:01.389Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8649

[debug] [2025-07-14T21:22:01.585Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:22:06.596Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-14T21:22:06.596Z] [worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: FINISHING"}}
[debug] [2025-07-14T21:22:06.603Z] [worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: exited"}}
[debug] [2025-07-14T21:22:06.603Z] [worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a369b4c3-856a-420c-bf30-3dc56b57ef03]: FINISHED"}}
[debug] [2025-07-14T21:22:30.628Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-14T21:22:30.634Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:22:30.821Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:22:30.821Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:22:32.845Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:22:32.846Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:22:32.846Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:22:32.846Z] Platform:      linux
[debug] [2025-07-14T21:22:32.846Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:22:32.846Z] Time:          Tue Jul 15 2025 00:22:32 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:22:32.846Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:22:32.967Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:22:32.967Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:22:32.970Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:22:32.970Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:22:32.972Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:22:32.979Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:22:32.979Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:22:32.979Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:22:32.979Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:22:33.083Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:22:33.085Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:22:33.086Z] Checked if tokens are valid: true, expires at: 1752529236165
[debug] [2025-07-14T21:22:33.086Z] Checked if tokens are valid: true, expires at: 1752529236165
[debug] [2025-07-14T21:22:33.087Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:22:33.661Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:22:33.661Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:22:33.680Z] Validating nodejs source
[debug] [2025-07-14T21:22:34.243Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:22:34.243Z] Building nodejs source
[debug] [2025-07-14T21:22:34.244Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:22:34.246Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:22:34.248Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8430

[debug] [2025-07-14T21:22:34.454Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:22:39.482Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:22:43.661Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:22:43.661Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:22:43.661Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:22:43.661Z"],"workRunningCount":1}
[debug] [2025-07-14T21:22:43.662Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:22:43.662Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:22:43.662Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:22:43.666Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:22:43.667Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:598896) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:598896) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:598896) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:22:44.009Z] [runtime-status] [598896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:22:44.010Z] [runtime-status] [598896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:22:44.010Z] [runtime-status] [598896] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:22:44.010Z] [runtime-status] [598896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:22:44.091Z] [runtime-status] [598896] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:22:44.092Z] [runtime-status] [598896] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:22:44.092Z] [runtime-status] [598896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:22:44.093Z] [runtime-status] [598896] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:22:44.094Z] [runtime-status] [598896] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:22:44.094Z] [runtime-status] [598896] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:22:44.132Z] [runtime-status] [598896] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:22:44.133Z] [runtime-status] [598896] Listening to port: /tmp/fire_emu_92917483901f1703.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [598896] Listening to port: /tmp/fire_emu_92917483901f1703.sock"}}
[debug] [2025-07-14T21:22:44.178Z] [worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: IDLE"}}
[debug] [2025-07-14T21:22:44.178Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:22:44.178Z] [worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: BUSY"}}
[debug] [2025-07-14T21:22:45.800Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1622.548565ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1622.548565ms"}}
[debug] [2025-07-14T21:22:45.801Z] [worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: IDLE"}}
[debug] [2025-07-14T21:22:45.801Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:22:45.801Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:22:45.802Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:23:55.535Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-14T21:23:55.544Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:23:55.548Z] [worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: exited"}}
[debug] [2025-07-14T21:23:55.548Z] [worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7339505-1d98-45d2-b01f-18ab564ec3ff]: FINISHED"}}
[debug] [2025-07-14T21:23:55.682Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:23:55.683Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:25:56.276Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:25:56.278Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:25:56.278Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:25:56.278Z] Platform:      linux
[debug] [2025-07-14T21:25:56.278Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:25:56.278Z] Time:          Tue Jul 15 2025 00:25:56 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:25:56.278Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:25:56.398Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:25:56.398Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:25:56.401Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:25:56.401Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:25:56.404Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:25:56.414Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:25:56.415Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:25:56.415Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:25:56.415Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:25:56.558Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:25:56.565Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:25:56.566Z] Checked if tokens are valid: false, expires at: 1752529236165
[debug] [2025-07-14T21:25:56.566Z] Checked if tokens are valid: false, expires at: 1752529236165
[debug] [2025-07-14T21:25:56.567Z] > refreshing access token with scopes: []
[debug] [2025-07-14T21:25:56.568Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-14T21:25:56.568Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-14T21:25:56.827Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-07-14T21:25:56.827Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-14T21:25:56.836Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:25:57.486Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:25:57.486Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:25:57.509Z] Validating nodejs source
[debug] [2025-07-14T21:25:58.071Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:25:58.071Z] Building nodejs source
[debug] [2025-07-14T21:25:58.071Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:25:58.073Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:25:58.075Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8856

[debug] [2025-07-14T21:25:58.269Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:26:03.290Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:26:15.202Z] Functions emulator received unknown request at path /your-project-id/us-central1/api
[debug] [2025-07-14T21:26:19.127Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:26:19.127Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:26:19.127Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:26:19.127Z"],"workRunningCount":1}
[debug] [2025-07-14T21:26:19.128Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:26:19.130Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:26:19.131Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:26:19.135Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:26:19.136Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:599775) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:599775) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:599775) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:26:19.494Z] [runtime-status] [599775] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:26:19.496Z] [runtime-status] [599775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:26:19.496Z] [runtime-status] [599775] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:26:19.497Z] [runtime-status] [599775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:26:19.585Z] [runtime-status] [599775] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:26:19.585Z] [runtime-status] [599775] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:26:19.585Z] [runtime-status] [599775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:26:19.586Z] [runtime-status] [599775] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:26:19.587Z] [runtime-status] [599775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:26:19.587Z] [runtime-status] [599775] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:26:19.629Z] [runtime-status] [599775] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:26:19.630Z] [runtime-status] [599775] Listening to port: /tmp/fire_emu_02df13189664e355.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [599775] Listening to port: /tmp/fire_emu_02df13189664e355.sock"}}
[debug] [2025-07-14T21:26:19.644Z] [worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: IDLE"}}
[debug] [2025-07-14T21:26:19.644Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:26:19.645Z] [worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: BUSY"}}
[debug] [2025-07-14T21:26:20.999Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1354.869383ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1354.869383ms"}}
[debug] [2025-07-14T21:26:21.000Z] [worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: IDLE"}}
[debug] [2025-07-14T21:26:21.000Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:26:21.000Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:26:21.001Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:27:02.388Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:27:03.390Z] Validating nodejs source
[debug] [2025-07-14T21:27:09.095Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:27:09.095Z] Building nodejs source
[debug] [2025-07-14T21:27:09.096Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:27:09.097Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:27:09.097Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8930

[debug] [2025-07-14T21:27:09.291Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:27:10.006Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-14T21:27:10.011Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:27:10.014Z] [worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: exited"}}
[debug] [2025-07-14T21:27:10.015Z] [worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-abc78be1-9271-4812-b0e8-9248f5b5082e]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:27:10.200Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:27:10.201Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:27:12.218Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:27:12.219Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:27:12.219Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:27:12.219Z] Platform:      linux
[debug] [2025-07-14T21:27:12.219Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:27:12.220Z] Time:          Tue Jul 15 2025 00:27:12 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:27:12.220Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:27:12.349Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:27:12.349Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:27:12.352Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:12.352Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:27:12.355Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:27:12.361Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:12.361Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:12.361Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:12.361Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:27:12.456Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:27:12.463Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:27:12.464Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:27:12.464Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:27:12.464Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:27:13.068Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:27:13.068Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:27:13.094Z] Validating nodejs source
[debug] [2025-07-14T21:27:13.686Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:27:13.686Z] Building nodejs source
[debug] [2025-07-14T21:27:13.687Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:27:13.688Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:27:13.690Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8190

[debug] [2025-07-14T21:27:13.884Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:27:18.906Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:27:28.736Z] Functions emulator received unknown request at path /your-project-id/us-central1/api
[debug] [2025-07-14T21:27:32.439Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:27:32.439Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:27:32.439Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:27:32.439Z"],"workRunningCount":1}
[debug] [2025-07-14T21:27:32.440Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:27:32.442Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:27:32.442Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:27:32.447Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:27:32.447Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:600170) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:600170) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:600170) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:27:32.770Z] [runtime-status] [600170] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:27:32.771Z] [runtime-status] [600170] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:27:32.771Z] [runtime-status] [600170] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:27:32.771Z] [runtime-status] [600170] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:27:32.852Z] [runtime-status] [600170] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:27:32.852Z] [runtime-status] [600170] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:27:32.853Z] [runtime-status] [600170] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:27:32.854Z] [runtime-status] [600170] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:27:32.854Z] [runtime-status] [600170] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:27:32.855Z] [runtime-status] [600170] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:27:32.893Z] [runtime-status] [600170] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:27:32.894Z] [runtime-status] [600170] Listening to port: /tmp/fire_emu_af7ee33273b8d3c9.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600170] Listening to port: /tmp/fire_emu_af7ee33273b8d3c9.sock"}}
[debug] [2025-07-14T21:27:32.960Z] [worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: IDLE"}}
[debug] [2025-07-14T21:27:32.961Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:27:32.962Z] [worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: BUSY"}}
[debug] [2025-07-14T21:27:34.321Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1359.514915ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1359.514915ms"}}
[debug] [2025-07-14T21:27:34.322Z] [worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: IDLE"}}
[debug] [2025-07-14T21:27:34.322Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:27:34.322Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:27:34.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:27:41.454Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:27:41.633Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:27:42.634Z] Validating nodejs source
[debug] [2025-07-14T21:27:43.285Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:27:43.285Z] Building nodejs source
[debug] [2025-07-14T21:27:43.285Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:27:43.286Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:27:43.287Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8497

[debug] [2025-07-14T21:27:43.523Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:27:46.795Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:27:46.803Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-14T21:27:46.803Z] [worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: FINISHING"}}
[debug] [2025-07-14T21:27:46.805Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:27:46.809Z] [worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: exited"}}
[debug] [2025-07-14T21:27:46.809Z] [worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-188e4ee9-265b-41df-b2e8-856d2420a67c]: FINISHED"}}
[debug] [2025-07-14T21:27:46.968Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:27:46.968Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:27:58.612Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:27:58.613Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:27:58.614Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:27:58.614Z] Platform:      linux
[debug] [2025-07-14T21:27:58.614Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:27:58.614Z] Time:          Tue Jul 15 2025 00:27:58 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:27:58.614Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:27:58.740Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:27:58.741Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:27:58.744Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:58.744Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:27:58.746Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:27:58.753Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:58.753Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:58.753Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:27:58.753Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:27:58.843Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:27:58.845Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:27:58.847Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:27:58.847Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:27:58.848Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:27:59.454Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:27:59.454Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:27:59.473Z] Validating nodejs source
[debug] [2025-07-14T21:28:00.084Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:28:00.084Z] Building nodejs source
[debug] [2025-07-14T21:28:00.084Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:28:00.086Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:28:00.087Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8249

[debug] [2025-07-14T21:28:00.281Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:28:05.308Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:28:12.797Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:28:12.797Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:28:12.797Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:28:12.797Z"],"workRunningCount":1}
[debug] [2025-07-14T21:28:12.798Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:28:12.799Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:28:12.800Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:28:12.805Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:28:12.806Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:600869) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:600869) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:600869) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:28:13.164Z] [runtime-status] [600869] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:28:13.165Z] [runtime-status] [600869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:28:13.165Z] [runtime-status] [600869] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:28:13.165Z] [runtime-status] [600869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:28:13.254Z] [runtime-status] [600869] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:28:13.255Z] [runtime-status] [600869] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:28:13.255Z] [runtime-status] [600869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:28:13.256Z] [runtime-status] [600869] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:28:13.257Z] [runtime-status] [600869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:28:13.257Z] [runtime-status] [600869] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:28:13.297Z] [runtime-status] [600869] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:28:13.298Z] [runtime-status] [600869] Listening to port: /tmp/fire_emu_cb36e9c10fa86f34.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [600869] Listening to port: /tmp/fire_emu_cb36e9c10fa86f34.sock"}}
[debug] [2025-07-14T21:28:13.315Z] [worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: IDLE"}}
[debug] [2025-07-14T21:28:13.315Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:28:13.316Z] [worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: BUSY"}}
[info] >  111111 {"user":111111,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m 111111"}}
[info] >  {"severity":"INFO","message":"sss"} {"user":{"severity":"INFO","message":"sss"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"sss\"}"}}
[info] >  111111 {"user":111111,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m 111111"}}
[debug] [2025-07-14T21:28:15.107Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1792.0263220000002ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1792.0263220000002ms"}}
[debug] [2025-07-14T21:28:15.108Z] [worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: IDLE"}}
[debug] [2025-07-14T21:28:15.108Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:28:15.108Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:28:15.108Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:31:38.845Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:31:39.847Z] Validating nodejs source
[debug] [2025-07-14T21:31:40.413Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:31:40.413Z] Building nodejs source
[debug] [2025-07-14T21:31:40.413Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:31:40.414Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:31:40.415Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8709

[debug] [2025-07-14T21:31:40.624Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:31:45.638Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-14T21:31:45.638Z] [worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: FINISHING"}}
[debug] [2025-07-14T21:31:45.645Z] [worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: exited"}}
[debug] [2025-07-14T21:31:45.645Z] [worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8a15715d-2223-4b08-ae8c-fbd0e93f116d]: FINISHED"}}
[debug] [2025-07-14T21:33:28.237Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:33:29.237Z] Validating nodejs source
[debug] [2025-07-14T21:33:29.922Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:33:29.922Z] Building nodejs source
[debug] [2025-07-14T21:33:29.923Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:33:29.923Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:33:29.924Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8832

[debug] [2025-07-14T21:33:30.148Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:33:43.606Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:33:44.607Z] Validating nodejs source
[debug] [2025-07-14T21:33:45.290Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:33:45.290Z] Building nodejs source
[debug] [2025-07-14T21:33:45.291Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:33:45.291Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:33:45.292Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8905

[debug] [2025-07-14T21:33:45.491Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:35:28.341Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:35:29.342Z] Validating nodejs source
[debug] [2025-07-14T21:35:29.945Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:35:29.946Z] Building nodejs source
[debug] [2025-07-14T21:35:29.946Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:35:29.947Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:35:29.948Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8731

[debug] [2025-07-14T21:35:30.150Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:35:43.739Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:35:44.741Z] Validating nodejs source
[debug] [2025-07-14T21:35:45.597Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:35:45.597Z] Building nodejs source
[debug] [2025-07-14T21:35:45.597Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:35:45.598Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:35:45.598Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8155

[debug] [2025-07-14T21:35:45.833Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:35:48.851Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:35:49.852Z] Validating nodejs source
[debug] [2025-07-14T21:35:50.425Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:35:50.425Z] Building nodejs source
[debug] [2025-07-14T21:35:50.425Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:35:50.426Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:35:50.426Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8528

[debug] [2025-07-14T21:35:50.638Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:36:05.809Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:36:06.810Z] Validating nodejs source
[debug] [2025-07-14T21:36:07.611Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:36:07.611Z] Building nodejs source
[debug] [2025-07-14T21:36:07.611Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:36:07.612Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:36:07.612Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8991

[debug] [2025-07-14T21:36:07.817Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:36:58.491Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:36:59.492Z] Validating nodejs source
[debug] [2025-07-14T21:37:00.190Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:37:00.191Z] Building nodejs source
[debug] [2025-07-14T21:37:00.191Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:37:00.191Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:37:00.192Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8858

[debug] [2025-07-14T21:37:00.426Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:37:09.087Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:37:10.088Z] Validating nodejs source
[debug] [2025-07-14T21:37:10.693Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:37:10.693Z] Building nodejs source
[debug] [2025-07-14T21:37:10.693Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:37:10.694Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:37:10.695Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8020

[debug] [2025-07-14T21:37:10.912Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:37:35.059Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:37:36.060Z] Validating nodejs source
[debug] [2025-07-14T21:37:36.744Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:37:36.744Z] Building nodejs source
[debug] [2025-07-14T21:37:36.744Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:37:36.745Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:37:36.745Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8173

[debug] [2025-07-14T21:37:36.951Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:39:00.868Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:39:00.868Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:39:00.868Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:39:00.868Z"],"workRunningCount":1}
[debug] [2025-07-14T21:39:00.869Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:39:00.870Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:39:00.871Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T21:39:00.871Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:39:00.874Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:39:00.874Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:601722) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:601722) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:601722) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:39:01.209Z] [runtime-status] [601722] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:39:01.209Z] [runtime-status] [601722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:39:01.210Z] [runtime-status] [601722] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:39:01.210Z] [runtime-status] [601722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:39:01.291Z] [runtime-status] [601722] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:39:01.292Z] [runtime-status] [601722] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:39:01.292Z] [runtime-status] [601722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:39:01.293Z] [runtime-status] [601722] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:39:01.294Z] [runtime-status] [601722] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:39:01.294Z] [runtime-status] [601722] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:39:01.333Z] [runtime-status] [601722] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:39:01.334Z] [runtime-status] [601722] Listening to port: /tmp/fire_emu_677e062df20100ea.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [601722] Listening to port: /tmp/fire_emu_677e062df20100ea.sock"}}
[debug] [2025-07-14T21:39:01.383Z] [worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: IDLE"}}
[debug] [2025-07-14T21:39:01.384Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:39:01.384Z] [worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: BUSY"}}
[debug] [2025-07-14T21:39:01.393Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8.64371ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8.64371ms"}}
[debug] [2025-07-14T21:39:01.393Z] [worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: IDLE"}}
[debug] [2025-07-14T21:39:01.393Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:39:01.393Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:39:01.393Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:39:55.158Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:39:56.159Z] Validating nodejs source
[debug] [2025-07-14T21:39:56.740Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:39:56.740Z] Building nodejs source
[debug] [2025-07-14T21:39:56.740Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:39:56.740Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:39:56.741Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8215

[debug] [2025-07-14T21:39:56.944Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:40:00.114Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:40:01.116Z] Validating nodejs source
[debug] [2025-07-14T21:40:01.691Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:40:01.691Z] Building nodejs source
[debug] [2025-07-14T21:40:01.691Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:40:01.691Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:40:01.692Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8338

[debug] [2025-07-14T21:40:01.917Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:40:01.956Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-14T21:40:01.956Z] [worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: FINISHING"}}
[debug] [2025-07-14T21:40:01.964Z] [worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: exited"}}
[debug] [2025-07-14T21:40:01.965Z] [worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-cc8d9b19-0572-44f7-af7b-c3d1c84e2b64]: FINISHED"}}
[debug] [2025-07-14T21:40:03.229Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:40:04.230Z] Validating nodejs source
[debug] [2025-07-14T21:40:04.878Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:40:04.878Z] Building nodejs source
[debug] [2025-07-14T21:40:04.878Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:40:04.879Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:40:04.879Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8542

[debug] [2025-07-14T21:40:05.084Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:40:11.753Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:40:12.754Z] Validating nodejs source
[debug] [2025-07-14T21:40:13.363Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:40:13.363Z] Building nodejs source
[debug] [2025-07-14T21:40:13.363Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:40:13.364Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:40:13.364Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8284

[debug] [2025-07-14T21:40:13.586Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:40:16.595Z] File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/index.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:40:17.596Z] Validating nodejs source
[debug] [2025-07-14T21:40:18.173Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:40:18.173Z] Building nodejs source
[debug] [2025-07-14T21:40:18.173Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:40:18.173Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:40:18.174Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8506

[debug] [2025-07-14T21:40:18.379Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:40:22.422Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:40:22.430Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:40:22.586Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:40:22.586Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:40:24.293Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:40:24.294Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:40:24.294Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:40:24.294Z] Platform:      linux
[debug] [2025-07-14T21:40:24.294Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:40:24.295Z] Time:          Tue Jul 15 2025 00:40:24 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:40:24.295Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:40:24.414Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:40:24.415Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:40:24.417Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:40:24.417Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:40:24.420Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:40:24.429Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:40:24.429Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:40:24.429Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:40:24.429Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:40:24.516Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:40:24.518Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:40:24.520Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:40:24.520Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:40:24.521Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:40:25.131Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:40:25.132Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:40:25.151Z] Validating nodejs source
[debug] [2025-07-14T21:40:25.867Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:40:25.867Z] Building nodejs source
[debug] [2025-07-14T21:40:25.868Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:40:25.870Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:40:25.874Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8224

[debug] [2025-07-14T21:40:26.069Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:40:31.093Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:40:36.931Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-14T21:40:36.938Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:40:37.101Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:40:37.102Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:41:00.603Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:41:00.604Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:41:00.604Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:41:00.604Z] Platform:      linux
[debug] [2025-07-14T21:41:00.604Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:41:00.604Z] Time:          Tue Jul 15 2025 00:41:00 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:41:00.604Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:41:00.722Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:41:00.723Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:41:00.725Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:41:00.725Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:41:00.728Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:41:00.734Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:41:00.734Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:41:00.734Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:41:00.734Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:41:00.833Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:41:00.835Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:41:00.837Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:41:00.837Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:41:00.838Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:41:01.436Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:41:01.436Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:41:01.456Z] Validating nodejs source
[debug] [2025-07-14T21:41:02.116Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:41:02.116Z] Building nodejs source
[debug] [2025-07-14T21:41:02.117Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:41:02.120Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:41:02.123Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8834

[debug] [2025-07-14T21:41:02.317Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:41:07.343Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:41:14.871Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:41:14.871Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:41:14.872Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:41:14.871Z"],"workRunningCount":1}
[debug] [2025-07-14T21:41:14.872Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:41:14.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:41:14.873Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:41:14.877Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:41:14.877Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:602136) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:602136) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:602136) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:41:15.217Z] [runtime-status] [602136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:41:15.217Z] [runtime-status] [602136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:41:15.218Z] [runtime-status] [602136] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:41:15.218Z] [runtime-status] [602136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:41:15.301Z] [runtime-status] [602136] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:41:15.301Z] [runtime-status] [602136] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:41:15.301Z] [runtime-status] [602136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:41:15.303Z] [runtime-status] [602136] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:41:15.303Z] [runtime-status] [602136] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:41:15.303Z] [runtime-status] [602136] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:41:15.341Z] [runtime-status] [602136] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:41:15.342Z] [runtime-status] [602136] Listening to port: /tmp/fire_emu_504f1523a23bd588.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [602136] Listening to port: /tmp/fire_emu_504f1523a23bd588.sock"}}
[debug] [2025-07-14T21:41:15.385Z] [worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: IDLE"}}
[debug] [2025-07-14T21:41:15.385Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:41:15.385Z] [worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: BUSY"}}
[debug] [2025-07-14T21:41:16.941Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1556.392864ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1556.392864ms"}}
[debug] [2025-07-14T21:41:16.942Z] [worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: IDLE"}}
[debug] [2025-07-14T21:41:16.942Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:41:16.942Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:41:16.942Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:45:45.300Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:45:46.300Z] Validating nodejs source
[debug] [2025-07-14T21:45:46.876Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:45:46.877Z] Building nodejs source
[debug] [2025-07-14T21:45:46.877Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:45:46.878Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:45:46.878Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8666

[debug] [2025-07-14T21:45:47.073Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:45:50.824Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:45:51.825Z] Validating nodejs source
[debug] [2025-07-14T21:45:52.415Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:45:52.415Z] Building nodejs source
[debug] [2025-07-14T21:45:52.415Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:45:52.416Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:45:52.416Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:45:52.419Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-14T21:45:52.419Z] [worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: FINISHING"}}
[debug] [2025-07-14T21:45:52.426Z] [worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: exited"}}
[debug] [2025-07-14T21:45:52.427Z] [worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-401b6999-96b2-48af-8802-9ab960c3878b]: FINISHED"}}
[info] Serving at port 8393

[debug] [2025-07-14T21:45:52.626Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:46:34.153Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:46:35.153Z] Validating nodejs source
[debug] [2025-07-14T21:46:35.724Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:46:35.724Z] Building nodejs source
[debug] [2025-07-14T21:46:35.725Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:46:35.726Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:46:35.726Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8924

[debug] [2025-07-14T21:46:35.933Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:46:39.740Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:46:40.740Z] Validating nodejs source
[debug] [2025-07-14T21:46:41.373Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:46:41.374Z] Building nodejs source
[debug] [2025-07-14T21:46:41.374Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:46:41.375Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:46:41.376Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8507

[debug] [2025-07-14T21:46:41.580Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:50:04.600Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:50:04.600Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:50:04.601Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:50:04.600Z"],"workRunningCount":1}
[debug] [2025-07-14T21:50:04.601Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:50:04.603Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:50:04.603Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T21:50:04.603Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:50:04.606Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:50:04.607Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:603444) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:603444) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:603444) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:50:04.948Z] [runtime-status] [603444] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:50:04.948Z] [runtime-status] [603444] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:50:04.948Z] [runtime-status] [603444] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:50:04.949Z] [runtime-status] [603444] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:50:05.030Z] [runtime-status] [603444] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:50:05.030Z] [runtime-status] [603444] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:50:05.030Z] [runtime-status] [603444] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:50:05.032Z] [runtime-status] [603444] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:50:05.032Z] [runtime-status] [603444] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:50:05.033Z] [runtime-status] [603444] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:50:05.070Z] [runtime-status] [603444] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:50:05.071Z] [runtime-status] [603444] Listening to port: /tmp/fire_emu_6c47ecafa3af2d35.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [603444] Listening to port: /tmp/fire_emu_6c47ecafa3af2d35.sock"}}
[debug] [2025-07-14T21:50:05.115Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: IDLE"}}
[debug] [2025-07-14T21:50:05.115Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:50:05.116Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: BUSY"}}
[info] >  Email send error: Error: Invalid email type {"user":"Email send error: Error: Invalid email type","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Email send error: Error: Invalid email type"}}
[info] >      at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:60:19) {"user":"    at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:60:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:60:19)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)"}}
[info] >      at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3) {"user":"    at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)"}}
[info] >      at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11) {"user":"    at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15"}}
[info] >      at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12) {"user":"    at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)"}}
[debug] [2025-07-14T21:50:05.125Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 9.160277ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 9.160277ms"}}
[debug] [2025-07-14T21:50:05.125Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: IDLE"}}
[debug] [2025-07-14T21:50:05.125Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:50:05.125Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:50:05.125Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:50:36.310Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:50:36.310Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:50:36.311Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:50:36.310Z"],"workRunningCount":1}
[debug] [2025-07-14T21:50:36.311Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:50:36.313Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:50:36.314Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T21:50:36.314Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:50:36.314Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: BUSY"}}
[debug] [2025-07-14T21:50:38.198Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1884.153049ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1884.153049ms"}}
[debug] [2025-07-14T21:50:38.199Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: IDLE"}}
[debug] [2025-07-14T21:50:38.199Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:50:38.199Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:50:38.199Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:51:01.404Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:51:02.405Z] Validating nodejs source
[debug] [2025-07-14T21:51:03.048Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:51:03.049Z] Building nodejs source
[debug] [2025-07-14T21:51:03.049Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:51:03.049Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:51:03.050Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8803

[debug] [2025-07-14T21:51:03.281Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:51:08.293Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-14T21:51:08.293Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: FINISHING"}}
[debug] [2025-07-14T21:51:08.297Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: exited"}}
[debug] [2025-07-14T21:51:08.298Z] [worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16a100bd-7df3-43f2-ba03-0556dfa5b1b9]: FINISHED"}}
[debug] [2025-07-14T21:52:33.126Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:52:34.127Z] Validating nodejs source
[debug] [2025-07-14T21:52:34.747Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:52:34.747Z] Building nodejs source
[debug] [2025-07-14T21:52:34.747Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:52:34.748Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:52:34.749Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[debug] [2025-07-14T21:52:34.803Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[info] Serving at port 8534

[debug] [2025-07-14T21:52:34.943Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-14T21:52:35.804Z] Validating nodejs source
[debug] [2025-07-14T21:52:36.387Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:52:36.387Z] Building nodejs source
[debug] [2025-07-14T21:52:36.387Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:52:36.388Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:52:36.389Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8450

[debug] [2025-07-14T21:52:36.589Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:55:37.093Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:55:38.094Z] Validating nodejs source
[debug] [2025-07-14T21:55:38.722Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:55:38.723Z] Building nodejs source
[debug] [2025-07-14T21:55:38.723Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:55:38.723Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:55:38.724Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8363

[debug] [2025-07-14T21:55:38.959Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:57:12.890Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T21:57:13.891Z] Validating nodejs source
[debug] [2025-07-14T21:57:14.609Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:57:14.610Z] Building nodejs source
[debug] [2025-07-14T21:57:14.610Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:57:14.610Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:57:14.611Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8606

[debug] [2025-07-14T21:57:14.822Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T21:57:25.679Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-14T21:57:25.686Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T21:57:25.868Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T21:57:25.868Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T21:57:45.999Z] ----------------------------------------------------------------------
[debug] [2025-07-14T21:57:46.001Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T21:57:46.001Z] CLI Version:   14.9.0
[debug] [2025-07-14T21:57:46.001Z] Platform:      linux
[debug] [2025-07-14T21:57:46.001Z] Node Version:  v22.5.1
[debug] [2025-07-14T21:57:46.001Z] Time:          Tue Jul 15 2025 00:57:46 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T21:57:46.002Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T21:57:46.125Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T21:57:46.126Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T21:57:46.128Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:57:46.128Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T21:57:46.131Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T21:57:46.138Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:57:46.138Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:57:46.138Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T21:57:46.138Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T21:57:46.257Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T21:57:46.260Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T21:57:46.261Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:57:46.261Z] Checked if tokens are valid: true, expires at: 1752531955827
[debug] [2025-07-14T21:57:46.262Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T21:57:46.951Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-14T21:57:46.951Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T21:57:46.971Z] Validating nodejs source
[debug] [2025-07-14T21:57:47.688Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T21:57:47.689Z] Building nodejs source
[debug] [2025-07-14T21:57:47.689Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:57:47.691Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T21:57:47.693Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8675

[debug] [2025-07-14T21:57:47.899Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T21:57:52.924Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T21:58:00.941Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:58:00.941Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:58:00.941Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:58:00.941Z"],"workRunningCount":1}
[debug] [2025-07-14T21:58:00.942Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:58:00.943Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:58:00.944Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T21:58:00.949Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T21:58:00.950Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:604340) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:604340) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:604340) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T21:58:01.281Z] [runtime-status] [604340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:58:01.282Z] [runtime-status] [604340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:58:01.282Z] [runtime-status] [604340] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T21:58:01.283Z] [runtime-status] [604340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:58:01.362Z] [runtime-status] [604340] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T21:58:01.362Z] [runtime-status] [604340] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T21:58:01.362Z] [runtime-status] [604340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:58:01.363Z] [runtime-status] [604340] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T21:58:01.365Z] [runtime-status] [604340] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T21:58:01.365Z] [runtime-status] [604340] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T21:58:01.402Z] [runtime-status] [604340] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T21:58:01.402Z] [runtime-status] [604340] Listening to port: /tmp/fire_emu_ec2c1f2cf148451f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [604340] Listening to port: /tmp/fire_emu_ec2c1f2cf148451f.sock"}}
[debug] [2025-07-14T21:58:01.462Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE"}}
[debug] [2025-07-14T21:58:01.463Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:58:01.463Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: BUSY"}}
[info] >  Email send error: TypeError: Cannot read properties of undefined (reading 'map') {"user":"Email send error: TypeError: Cannot read properties of undefined (reading 'map')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Email send error: TypeError: Cannot read properties of undefined (reading 'map')"}}
[info] >      at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18) {"user":"    at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)"}}
[info] >      at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3) {"user":"    at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)"}}
[info] >      at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11) {"user":"    at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15"}}
[info] >      at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12) {"user":"    at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)"}}
[debug] [2025-07-14T21:58:01.475Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 11.468214ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 11.468214ms"}}
[debug] [2025-07-14T21:58:01.475Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE"}}
[debug] [2025-07-14T21:58:01.475Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:58:01.475Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:58:01.475Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:58:25.819Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:58:25.819Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:58:25.819Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:58:25.819Z"],"workRunningCount":1}
[debug] [2025-07-14T21:58:25.819Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:58:25.821Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:58:25.821Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T21:58:25.821Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:58:25.822Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: BUSY"}}
[debug] [2025-07-14T21:58:27.294Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1473.230645ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1473.230645ms"}}
[debug] [2025-07-14T21:58:27.295Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE"}}
[debug] [2025-07-14T21:58:27.296Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:58:27.296Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:58:27.296Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:59:04.063Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:59:04.063Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T21:59:04.064Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T21:59:04.063Z"],"workRunningCount":1}
[debug] [2025-07-14T21:59:04.064Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T21:59:04.066Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T21:59:04.066Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T21:59:04.066Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T21:59:04.066Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: BUSY"}}
[debug] [2025-07-14T21:59:05.794Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1728.552229ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1728.552229ms"}}
[debug] [2025-07-14T21:59:05.795Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: IDLE"}}
[debug] [2025-07-14T21:59:05.795Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T21:59:05.796Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T21:59:05.796Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T22:00:53.141Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-14T22:00:54.142Z] Validating nodejs source
[debug] [2025-07-14T22:00:54.877Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T22:00:54.877Z] Building nodejs source
[debug] [2025-07-14T22:00:54.877Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T22:00:54.878Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T22:00:54.879Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8947

[debug] [2025-07-14T22:00:55.082Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-14T22:01:00.101Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-14T22:01:00.101Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: FINISHING"}}
[debug] [2025-07-14T22:01:00.109Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: exited"}}
[debug] [2025-07-14T22:01:00.109Z] [worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-222d517e-4381-4ead-9558-df8b7fbf7047]: FINISHED"}}
[debug] [2025-07-14T23:28:18.758Z] Functions emulator received unknown request at path /your-project-id/us-central1/api
[debug] [2025-07-14T23:28:36.600Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-14T23:28:36.608Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-14T23:28:36.773Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-14T23:28:36.773Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T23:28:36.901Z] Received signal SIGINT (Ctrl-C) 3
[info]  
[debug] [2025-07-14T23:28:36.901Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 3 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-14T23:28:41.830Z] Error: Timed out.
    at Timeout._onTimeout (/home/mofath/.nvm/versions/node/v22.5.1/lib/node_modules/firebase-tools/lib/utils.js:267:49)
    at listOnTimeout (node:internal/timers:581:17)
    at process.processTimers (node:internal/timers:519:7)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2025-07-14T23:28:47.088Z] ----------------------------------------------------------------------
[debug] [2025-07-14T23:28:47.089Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-14T23:28:47.089Z] CLI Version:   14.9.0
[debug] [2025-07-14T23:28:47.089Z] Platform:      linux
[debug] [2025-07-14T23:28:47.089Z] Node Version:  v22.5.1
[debug] [2025-07-14T23:28:47.090Z] Time:          Tue Jul 15 2025 02:28:47 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-14T23:28:47.090Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-14T23:28:47.207Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-14T23:28:47.208Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-14T23:28:47.210Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T23:28:47.210Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-14T23:28:47.213Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-14T23:28:47.219Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T23:28:47.219Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T23:28:47.219Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-14T23:28:47.219Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-14T23:28:47.322Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-14T23:28:47.324Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-14T23:28:47.324Z] Checked if tokens are valid: false, expires at: 1752531955827
[debug] [2025-07-14T23:28:47.325Z] Checked if tokens are valid: false, expires at: 1752531955827
[debug] [2025-07-14T23:28:47.325Z] > refreshing access token with scopes: []
[debug] [2025-07-14T23:28:47.326Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-14T23:28:47.326Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-14T23:28:47.572Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-07-14T23:28:47.572Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-14T23:28:47.578Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-14T23:29:17.961Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 503
[debug] [2025-07-14T23:29:17.961Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"error":{"code":503,"message":"The service is currently unavailable.","status":"UNAVAILABLE"}}
[debug] [2025-07-14T23:29:17.962Z] Failed to get Admin SDK config for jamila-9f11a, falling back to cache Failed to get Admin SDK for Firebase project jamila-9f11a. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project jamila-9f11a. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":503,"message":"The service is currently unavailable.","status":"UNAVAILABLE"}},"response":{"statusCode":503}},"exit":2,"message":"Request to https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig had HTTP Error: 503, The service is currently unavailable.","status":503},"status":500}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-14T23:29:17.980Z] Validating nodejs source
[debug] [2025-07-14T23:29:18.562Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-14T23:29:18.562Z] Building nodejs source
[debug] [2025-07-14T23:29:18.563Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T23:29:18.565Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-14T23:29:18.567Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8826

[debug] [2025-07-14T23:29:18.777Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-14T23:29:23.801Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-14T23:29:27.694Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:29:27.694Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:29:27.694Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:29:27.694Z"],"workRunningCount":1}
[debug] [2025-07-14T23:29:27.695Z] Accepted request GET /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:29:27.695Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:29:27.696Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-14T23:29:27.701Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-14T23:29:27.702Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:623703) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:623703) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:623703) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-14T23:29:28.039Z] [runtime-status] [623703] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T23:29:28.039Z] [runtime-status] [623703] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T23:29:28.039Z] [runtime-status] [623703] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-14T23:29:28.039Z] [runtime-status] [623703] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T23:29:28.120Z] [runtime-status] [623703] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-14T23:29:28.120Z] [runtime-status] [623703] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-14T23:29:28.120Z] [runtime-status] [623703] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T23:29:28.121Z] [runtime-status] [623703] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-14T23:29:28.122Z] [runtime-status] [623703] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-14T23:29:28.122Z] [runtime-status] [623703] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-14T23:29:28.160Z] [runtime-status] [623703] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-14T23:29:28.160Z] [runtime-status] [623703] Listening to port: /tmp/fire_emu_755c67dcacf5b32a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [623703] Listening to port: /tmp/fire_emu_755c67dcacf5b32a.sock"}}
[debug] [2025-07-14T23:29:28.214Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:29:28.214Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:29:28.214Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:29:28.219Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.569613ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.569613ms"}}
[debug] [2025-07-14T23:29:28.219Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:29:28.219Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:29:28.219Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:29:28.219Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:30:01.193Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:30:01.193Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:30:01.193Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:30:01.193Z"],"workRunningCount":1}
[debug] [2025-07-14T23:30:01.194Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:30:01.196Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:30:01.197Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:30:01.197Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:30:01.197Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:30:01.203Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.729131ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.729131ms"}}
[debug] [2025-07-14T23:30:01.203Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:30:01.203Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:30:01.203Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:30:01.204Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:30:01.206Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:30:01.206Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:30:01.207Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:30:01.206Z"],"workRunningCount":1}
[debug] [2025-07-14T23:30:01.207Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:30:01.208Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:30:01.209Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:30:01.209Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:30:01.209Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:30:03.019Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1810.224011ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1810.224011ms"}}
[debug] [2025-07-14T23:30:03.020Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:30:03.021Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:30:03.021Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:30:03.021Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:32:37.337Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email/send-email-2025-07-14T23:32:37.336Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:32:37.337Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email/send-email-2025-07-14T23:32:37.336Z"],"workRunningCount":1}
[debug] [2025-07-14T23:32:37.337Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email/send-email --> us-central1-api
[debug] [2025-07-14T23:32:37.339Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:32:37.340Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email/send-email, mapping to path=/send-email/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email/send-email, mapping to path=/send-email/send-email"}}
[debug] [2025-07-14T23:32:37.340Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:32:37.340Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:32:37.346Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.258379ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.258379ms"}}
[debug] [2025-07-14T23:32:37.347Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:32:37.347Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:32:37.347Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:32:37.347Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:32:37.350Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email/send-email-2025-07-14T23:32:37.350Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:32:37.350Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email/send-email-2025-07-14T23:32:37.350Z"],"workRunningCount":1}
[debug] [2025-07-14T23:32:37.351Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email/send-email --> us-central1-api
[debug] [2025-07-14T23:32:37.352Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:32:37.353Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email/send-email, mapping to path=/send-email/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email/send-email, mapping to path=/send-email/send-email"}}
[debug] [2025-07-14T23:32:37.353Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:32:37.353Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:32:37.356Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.47628ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.47628ms"}}
[debug] [2025-07-14T23:32:37.357Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:32:37.357Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:32:37.357Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:32:37.357Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:32:54.279Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email/send-email-2025-07-14T23:32:54.279Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:32:54.279Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email/send-email-2025-07-14T23:32:54.279Z"],"workRunningCount":1}
[debug] [2025-07-14T23:32:54.280Z] Accepted request GET /jamila-9f11a/us-central1/api/send-email/send-email --> us-central1-api
[debug] [2025-07-14T23:32:54.281Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:32:54.282Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email/send-email, mapping to path=/send-email/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email/send-email, mapping to path=/send-email/send-email"}}
[debug] [2025-07-14T23:32:54.282Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:32:54.282Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:32:54.285Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.250932ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.250932ms"}}
[debug] [2025-07-14T23:32:54.286Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:32:54.286Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:32:54.286Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:32:54.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:33:28.910Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:33:28.910Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:33:28.910Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:33:28.910Z"],"workRunningCount":1}
[debug] [2025-07-14T23:33:28.910Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:33:28.913Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:33:28.913Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:33:28.913Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:33:28.913Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:33:28.915Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.24815ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.24815ms"}}
[debug] [2025-07-14T23:33:28.916Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:33:28.916Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:33:28.916Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:33:28.916Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:33:28.919Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:33:28.919Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:33:28.919Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:33:28.919Z"],"workRunningCount":1}
[debug] [2025-07-14T23:33:28.919Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:33:28.921Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:33:28.921Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:33:28.921Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:33:28.921Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:33:30.559Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1638.4028039999998ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1638.4028039999998ms"}}
[debug] [2025-07-14T23:33:30.560Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:33:30.560Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:33:30.560Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:33:30.560Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:34:48.414Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:34:48.413Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:34:48.414Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:34:48.413Z"],"workRunningCount":1}
[debug] [2025-07-14T23:34:48.414Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:34:48.415Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:34:48.416Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:34:48.416Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:34:48.416Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:34:48.420Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.934745ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.934745ms"}}
[debug] [2025-07-14T23:34:48.420Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:34:48.420Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:34:48.420Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:34:48.420Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:34:48.422Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:34:48.421Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:34:48.422Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:34:48.421Z"],"workRunningCount":1}
[debug] [2025-07-14T23:34:48.422Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:34:48.423Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:34:48.423Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:34:48.423Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:34:48.423Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:34:49.635Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1212.766066ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1212.766066ms"}}
[debug] [2025-07-14T23:34:49.636Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:34:49.636Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:34:49.636Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:34:49.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:37:55.173Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:37:55.173Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:37:55.173Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:37:55.173Z"],"workRunningCount":1}
[debug] [2025-07-14T23:37:55.173Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:37:55.175Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:37:55.175Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:37:55.175Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:37:55.175Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:37:55.178Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.488754ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.488754ms"}}
[debug] [2025-07-14T23:37:55.178Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:37:55.178Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:37:55.178Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:37:55.178Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:37:55.180Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:37:55.180Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:37:55.180Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:37:55.180Z"],"workRunningCount":1}
[debug] [2025-07-14T23:37:55.180Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:37:55.181Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:37:55.181Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:37:55.181Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:37:55.182Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:37:56.500Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1318.742079ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1318.742079ms"}}
[debug] [2025-07-14T23:37:56.501Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:37:56.501Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:37:56.501Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:37:56.502Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:53:35.162Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:53:35.162Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:53:35.162Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:53:35.162Z"],"workRunningCount":1}
[debug] [2025-07-14T23:53:35.162Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:53:35.163Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:53:35.163Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:53:35.164Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:53:35.164Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:53:35.167Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.14116ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.14116ms"}}
[debug] [2025-07-14T23:53:35.167Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:53:35.167Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:53:35.167Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:53:35.168Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:53:35.173Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:53:35.173Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:53:35.173Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:53:35.173Z"],"workRunningCount":1}
[debug] [2025-07-14T23:53:35.173Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:53:35.175Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:53:35.176Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:53:35.176Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:53:35.176Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[info] >  Email send error: TypeError: Cannot read properties of undefined (reading 'map') {"user":"Email send error: TypeError: Cannot read properties of undefined (reading 'map')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Email send error: TypeError: Cannot read properties of undefined (reading 'map')"}}
[info] >      at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18) {"user":"    at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)"}}
[info] >      at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3) {"user":"    at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)"}}
[info] >      at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11) {"user":"    at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15"}}
[info] >      at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12) {"user":"    at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)"}}
[debug] [2025-07-14T23:53:35.184Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8.170414ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8.170414ms"}}
[debug] [2025-07-14T23:53:35.185Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:53:35.185Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:53:35.185Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:53:35.185Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:55:19.213Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:55:19.213Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:55:19.214Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:55:19.213Z"],"workRunningCount":1}
[debug] [2025-07-14T23:55:19.214Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:55:19.216Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:55:19.217Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:55:19.217Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:55:19.217Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[debug] [2025-07-14T23:55:19.221Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.043169ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.043169ms"}}
[debug] [2025-07-14T23:55:19.221Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:55:19.222Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:55:19.222Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:55:19.222Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:55:19.225Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:55:19.225Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-14T23:55:19.225Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-14T23:55:19.225Z"],"workRunningCount":1}
[debug] [2025-07-14T23:55:19.226Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-14T23:55:19.228Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-14T23:55:19.229Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-14T23:55:19.229Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-14T23:55:19.229Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: BUSY"}}
[info] >  Email send error: TypeError: Cannot read properties of undefined (reading 'map') {"user":"Email send error: TypeError: Cannot read properties of undefined (reading 'map')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Email send error: TypeError: Cannot read properties of undefined (reading 'map')"}}
[info] >      at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18) {"user":"    at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)"}}
[info] >      at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3) {"user":"    at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)"}}
[info] >      at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11) {"user":"    at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15"}}
[info] >      at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12) {"user":"    at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)"}}
[debug] [2025-07-14T23:55:19.238Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8.774306ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8.774306ms"}}
[debug] [2025-07-14T23:55:19.239Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: IDLE"}}
[debug] [2025-07-14T23:55:19.239Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-14T23:55:19.239Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-14T23:55:19.239Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:02:09.034Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-15T00:02:10.035Z] Validating nodejs source
[debug] [2025-07-15T00:02:10.636Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-15T00:02:10.636Z] Building nodejs source
[debug] [2025-07-15T00:02:10.636Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-15T00:02:10.637Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-15T00:02:10.637Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8652

[debug] [2025-07-15T00:02:10.839Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-07-15T00:02:12.623Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-15T00:02:13.625Z] Validating nodejs source
[debug] [2025-07-15T00:02:14.196Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-15T00:02:14.196Z] Building nodejs source
[debug] [2025-07-15T00:02:14.196Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-15T00:02:14.198Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-15T00:02:14.198Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8297

[debug] [2025-07-15T00:02:14.389Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-15T00:02:15.853Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-07-15T00:02:15.854Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: FINISHING"}}
[debug] [2025-07-15T00:02:15.863Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: exited"}}
[debug] [2025-07-15T00:02:15.863Z] [worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a5366984-9a74-45d1-9f4b-6ee6963b4e31]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-15T00:02:40.947Z] File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/mofath/github/jamila-frontend-app/functions/src/utils/getEmailTemplate.util.ts changed, reloading triggers"}}
[debug] [2025-07-15T00:02:41.948Z] Validating nodejs source
[debug] [2025-07-15T00:02:47.664Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-15T00:02:47.664Z] Building nodejs source
[debug] [2025-07-15T00:02:47.664Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-15T00:02:47.665Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-15T00:02:47.666Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8966

[debug] [2025-07-15T00:02:47.878Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-07-15T00:03:37.018Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:03:37.018Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:03:37.018Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:03:37.018Z"],"workRunningCount":1}
[debug] [2025-07-15T00:03:37.018Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:03:37.022Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:03:37.022Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:03:37.022Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-15T00:03:37.028Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-15T00:03:37.029Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:629893) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:629893) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:629893) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-15T00:03:37.444Z] [runtime-status] [629893] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-15T00:03:37.444Z] [runtime-status] [629893] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:03:37.444Z] [runtime-status] [629893] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-15T00:03:37.445Z] [runtime-status] [629893] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:03:37.549Z] [runtime-status] [629893] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-15T00:03:37.549Z] [runtime-status] [629893] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-15T00:03:37.549Z] [runtime-status] [629893] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:03:37.551Z] [runtime-status] [629893] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-15T00:03:37.551Z] [runtime-status] [629893] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:03:37.552Z] [runtime-status] [629893] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-15T00:03:37.596Z] [runtime-status] [629893] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-15T00:03:37.597Z] [runtime-status] [629893] Listening to port: /tmp/fire_emu_4c4fcd6ef405cd17.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [629893] Listening to port: /tmp/fire_emu_4c4fcd6ef405cd17.sock"}}
[debug] [2025-07-15T00:03:37.639Z] [worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: IDLE"}}
[debug] [2025-07-15T00:03:37.639Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:03:37.639Z] [worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: BUSY"}}
[debug] [2025-07-15T00:03:37.643Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.807557ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.807557ms"}}
[debug] [2025-07-15T00:03:37.643Z] [worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: IDLE"}}
[debug] [2025-07-15T00:03:37.643Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:03:37.643Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:03:37.644Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:03:37.645Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:03:37.645Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:03:37.646Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:03:37.645Z"],"workRunningCount":1}
[debug] [2025-07-15T00:03:37.646Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:03:37.646Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:03:37.646Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:03:37.646Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:03:37.647Z] [worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: BUSY"}}
[info] >  Email send error: TypeError: Cannot read properties of undefined (reading 'map') {"user":"Email send error: TypeError: Cannot read properties of undefined (reading 'map')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Email send error: TypeError: Cannot read properties of undefined (reading 'map')"}}
[info] >      at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18) {"user":"    at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at getEmailTemplate (/home/mofath/github/jamila-frontend-app/functions/lib/utils/getEmailTemplate.util.js:42:18)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/lib/index.js:66:86"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:157:13)"}}
[info] >      at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3) {"user":"    at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/route.js:117:3)"}}
[info] >      at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11) {"user":"    at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at handle (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:435:11)"}}
[info] >      at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17) {"user":"    at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handleRequest (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/lib/layer.js:152:17)"}}
[info] >      at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15 {"user":"    at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:295:15"}}
[info] >      at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12) {"user":"    at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processParams (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:582:12)"}}
[info] >      at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5) {"user":"    at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/mofath/github/jamila-frontend-app/functions/node_modules/router/index.js:291:5)"}}
[debug] [2025-07-15T00:03:37.660Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 13.710505ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 13.710505ms"}}
[debug] [2025-07-15T00:03:37.661Z] [worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: IDLE"}}
[debug] [2025-07-15T00:03:37.661Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:03:37.661Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:03:37.661Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:03:50.790Z] Received signal SIGINT (Ctrl-C) 1
[info]  
[info] i  emulators: Received SIGINT (Ctrl-C) for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGINT (Ctrl-C) signal again to stop right now. 
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  tasks: Stopping Cloud Tasks Emulator {"metadata":{"emulator":{"name":"tasks"},"message":"Stopping Cloud Tasks Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2025-07-15T00:03:50.795Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[debug] [2025-07-15T00:03:50.798Z] [worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: exited"}}
[debug] [2025-07-15T00:03:50.798Z] [worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a395a620-387c-4f82-a083-6cef0cdfe2f9]: FINISHED"}}
[debug] [2025-07-15T00:03:50.965Z] Received signal SIGINT (Ctrl-C) 2
[info]  
[debug] [2025-07-15T00:03:50.965Z] Skipping clean onExit() and cleanShutdown()
[warn] ⚠  emulators: Received SIGINT (Ctrl-C) 2 times. You have forced the Emulator Suite to exit without waiting for 0 subprocess to finish. These processes may still be running on your machine:  
[info] 
┌──────────┬───────────┬─────┐
│ Emulator │ Host:Port │ PID │
└──────────┴───────────┴─────┘

To force them to exit run:

[info] kill 

[debug] [2025-07-15T00:04:05.278Z] ----------------------------------------------------------------------
[debug] [2025-07-15T00:04:05.279Z] Command:       /home/mofath/.nvm/versions/node/v22.5.1/bin/node /home/mofath/.nvm/versions/node/v22.5.1/bin/firebase emulators:start --only functions --debug
[debug] [2025-07-15T00:04:05.279Z] CLI Version:   14.9.0
[debug] [2025-07-15T00:04:05.279Z] Platform:      linux
[debug] [2025-07-15T00:04:05.279Z] Node Version:  v22.5.1
[debug] [2025-07-15T00:04:05.280Z] Time:          Tue Jul 15 2025 03:04:05 GMT+0300 (Eastern European Summer Time)
[debug] [2025-07-15T00:04:05.280Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-15T00:04:05.405Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-15T00:04:05.405Z] > authorizing via signed-in user (mohamed.elgaedi@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2025-07-15T00:04:05.408Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-15T00:04:05.408Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-15T00:04:05.411Z] [hub] writing locator at /tmp/hub-jamila-9f11a.json
[debug] [2025-07-15T00:04:05.417Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-15T00:04:05.417Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-15T00:04:05.417Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-15T00:04:05.418Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-15T00:04:05.513Z] defaultcredentials: writing to file /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json
[debug] [2025-07-15T00:04:05.516Z] Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/mofath/.config/firebase/mohamed_elgaedi_gmail.com_application_default_credentials.json"}}
[debug] [2025-07-15T00:04:05.517Z] Checked if tokens are valid: true, expires at: 1752539326572
[debug] [2025-07-15T00:04:05.517Z] Checked if tokens are valid: true, expires at: 1752539326572
[debug] [2025-07-15T00:04:05.518Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig [none]
[debug] [2025-07-15T00:04:06.114Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig 200
[debug] [2025-07-15T00:04:06.115Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jamila-9f11a/adminSdkConfig {"projectId":"jamila-9f11a","storageBucket":"jamila-9f11a.firebasestorage.app"}
[info] i  functions: Watching "/home/mofath/github/jamila-frontend-app/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/mofath/github/jamila-frontend-app/functions\" for Cloud Functions..."}}
[debug] [2025-07-15T00:04:06.136Z] Validating nodejs source
[debug] [2025-07-15T00:04:06.711Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5",
    "stripe": "^18.2.1"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-07-15T00:04:06.711Z] Building nodejs source
[debug] [2025-07-15T00:04:06.712Z] Failed to find version of module node: reached end of search path /home/mofath/github/jamila-frontend-app/functions/node_modules
[info] ✔  functions: Using node@22 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-15T00:04:06.714Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-15T00:04:06.716Z] Found firebase-functions binary at '/home/mofath/github/jamila-frontend-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8476

[debug] [2025-07-15T00:04:06.915Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/jamila-9f11a/us-central1/api)."}}
[debug] [2025-07-15T00:04:11.944Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: connect ECONNREFUSED 127.0.0.1:40001. If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-07-15T00:04:50.370Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:04:50.370Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:04:50.370Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:04:50.370Z"],"workRunningCount":1}
[debug] [2025-07-15T00:04:50.370Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:04:50.372Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:04:50.372Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2025-07-15T00:04:50.377Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-07-15T00:04:50.377Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] >  (node:630030) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead. {"user":"(node:630030) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:630030) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead."}}
[info] >  (Use `node --trace-deprecation ...` to show where the warning was created) {"user":"(Use `node --trace-deprecation ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-deprecation ...` to show where the warning was created)"}}
[debug] [2025-07-15T00:04:50.798Z] [runtime-status] [630030] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-15T00:04:50.799Z] [runtime-status] [630030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:04:50.799Z] [runtime-status] [630030] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-07-15T00:04:50.800Z] [runtime-status] [630030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:04:50.928Z] [runtime-status] [630030] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-07-15T00:04:50.928Z] [runtime-status] [630030] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}}"}}
[debug] [2025-07-15T00:04:50.929Z] [runtime-status] [630030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:04:50.931Z] [runtime-status] [630030] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2025-07-15T00:04:50.932Z] [runtime-status] [630030] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.3.2\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-functions/lib/v2/index.js\"}"}}
[debug] [2025-07-15T00:04:50.932Z] [runtime-status] [630030] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"/home/mofath/github/jamila-frontend-app/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2025-07-15T00:04:50.998Z] [runtime-status] [630030] Functions runtime initialized. {"cwd":"/home/mofath/github/jamila-frontend-app/functions","node_version":"22.5.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Functions runtime initialized. {\"cwd\":\"/home/mofath/github/jamila-frontend-app/functions\",\"node_version\":\"22.5.1\"}"}}
[debug] [2025-07-15T00:04:51.000Z] [runtime-status] [630030] Listening to port: /tmp/fire_emu_efc7aab9762a0d50.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [630030] Listening to port: /tmp/fire_emu_efc7aab9762a0d50.sock"}}
[debug] [2025-07-15T00:04:51.086Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:04:51.086Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:04:51.087Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:04:51.091Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.192804ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.192804ms"}}
[debug] [2025-07-15T00:04:51.091Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:04:51.091Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:04:51.091Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:04:51.092Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:04:51.094Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:04:51.094Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:04:51.094Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:04:51.094Z"],"workRunningCount":1}
[debug] [2025-07-15T00:04:51.094Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:04:51.095Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:04:51.095Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:04:51.095Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:04:51.095Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:04:52.526Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1431.0207639999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1431.0207639999999ms"}}
[debug] [2025-07-15T00:04:52.526Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:04:52.527Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:04:52.527Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:05:15.050Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:05:15.050Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:05:15.050Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:05:15.050Z"],"workRunningCount":1}
[debug] [2025-07-15T00:05:15.051Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:05:15.052Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:05:15.052Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:05:15.052Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:05:15.053Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:05:15.056Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.534597ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.534597ms"}}
[debug] [2025-07-15T00:05:15.056Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:05:15.056Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:05:15.057Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:05:15.057Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:05:15.066Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:05:15.066Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:05:15.067Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:05:15.066Z"],"workRunningCount":1}
[debug] [2025-07-15T00:05:15.067Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:05:15.070Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:05:15.071Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:05:15.071Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:05:15.071Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:05:16.355Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1284.353756ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1284.353756ms"}}
[debug] [2025-07-15T00:05:16.356Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:05:16.356Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:05:16.357Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:05:16.357Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:21.492Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:21.492Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:21.493Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:21.492Z"],"workRunningCount":1}
[debug] [2025-07-15T00:06:21.493Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:06:21.496Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:06:21.497Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:06:21.497Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:06:21.497Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:06:21.503Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.521655ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.521655ms"}}
[debug] [2025-07-15T00:06:21.505Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:06:21.505Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:06:21.505Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:06:21.505Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:21.508Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:21.508Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:21.508Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:21.508Z"],"workRunningCount":1}
[debug] [2025-07-15T00:06:21.508Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:06:21.509Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:06:21.510Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:06:21.510Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:06:21.510Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:06:22.693Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1183.601885ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1183.601885ms"}}
[debug] [2025-07-15T00:06:22.694Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:06:22.694Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:06:22.694Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:44.922Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:44.922Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:44.922Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:44.922Z"],"workRunningCount":1}
[debug] [2025-07-15T00:06:44.923Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:06:44.924Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:06:44.924Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:06:44.924Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:06:44.924Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:06:44.928Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.869723ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.869723ms"}}
[debug] [2025-07-15T00:06:44.928Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:06:44.929Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:06:44.929Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:06:44.929Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:44.940Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:44.940Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:06:44.940Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:06:44.940Z"],"workRunningCount":1}
[debug] [2025-07-15T00:06:44.940Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:06:44.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:06:44.942Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:06:44.942Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:06:44.943Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:06:46.170Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1227.775155ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1227.775155ms"}}
[debug] [2025-07-15T00:06:46.171Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:06:46.171Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:06:46.172Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:06:46.172Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:08:58.563Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:08:58.563Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:08:58.563Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:08:58.563Z"],"workRunningCount":1}
[debug] [2025-07-15T00:08:58.564Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:08:58.566Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:08:58.566Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:08:58.567Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:08:58.567Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:08:58.572Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.546665ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.546665ms"}}
[debug] [2025-07-15T00:08:58.573Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:08:58.573Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:08:58.574Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:08:58.574Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:08:58.578Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:08:58.578Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:08:58.579Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:08:58.578Z"],"workRunningCount":1}
[debug] [2025-07-15T00:08:58.579Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:08:58.583Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:08:58.583Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:08:58.583Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:08:58.584Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:08:59.819Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1235.780506ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1235.780506ms"}}
[debug] [2025-07-15T00:08:59.820Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:08:59.820Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:08:59.821Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:08:59.821Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:24:55.309Z] Functions emulator received unknown request at path /your-project-id/us-central1/api/send-email
[debug] [2025-07-15T00:25:46.877Z] Functions emulator received unknown request at path /your-project-id/us-central1/api/send-email
[debug] [2025-07-15T00:25:54.224Z] Functions emulator received unknown request at path /your-project-id/us-central1/api/send-email
[debug] [2025-07-15T00:25:54.409Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2025-07-15T00:27:10.624Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:27:10.624Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:27:10.625Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:27:10.624Z"],"workRunningCount":1}
[debug] [2025-07-15T00:27:10.625Z] Accepted request OPTIONS /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:27:10.627Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:27:10.627Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:27:10.627Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:27:10.628Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:27:10.630Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.970953ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.970953ms"}}
[debug] [2025-07-15T00:27:10.631Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:27:10.631Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:27:10.631Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:27:10.631Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:27:10.633Z] [work-queue] {"queuedWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:27:10.633Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-07-15T00:27:10.634Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/jamila-9f11a/us-central1/api/send-email-2025-07-15T00:27:10.633Z"],"workRunningCount":1}
[debug] [2025-07-15T00:27:10.634Z] Accepted request POST /jamila-9f11a/us-central1/api/send-email --> us-central1-api
[debug] [2025-07-15T00:27:10.635Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-07-15T00:27:10.636Z] [functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/jamila-9f11a/us-central1/api/send-email, mapping to path=/send-email"}}
[debug] [2025-07-15T00:27:10.636Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-07-15T00:27:10.636Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: BUSY"}}
[debug] [2025-07-15T00:27:11.979Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1343.490334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1343.490334ms"}}
[debug] [2025-07-15T00:27:11.980Z] [worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb69e3d5-5c4c-478c-a338-bd922212c8cd]: IDLE"}}
[debug] [2025-07-15T00:27:11.980Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-07-15T00:27:11.980Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-07-15T00:27:11.980Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
